@header-height: 60px; // 头部高度
@main-bg      : #212121; // 主背景色
@font-color   : #c3c3c3; // 主字体色
@iframe-bg    : #272727; // iframe 背景色
@border-color : #2c2c2c; // 边框色
@edit-height  : 350px; // 编辑器高度

* {
    padding   : 0;
    margin    : 0;
    box-sizing: border-box;
}

html {
    background-color: @main-bg;
}

body {
    &.loading {
        overflow: hidden;

        &::before {
            content            : '';
            position           : absolute;
            width              : 100vw;
            height             : 100vh;
            top                : 0;
            left               : 0;
            background-color   : #000;
            z-index            : 999;
            background-image   : url(/asset/image/logo.svg);
            background-repeat  : no-repeat;
            background-position: 50% calc(50% - 80px);
        }

        &::after {
            content                 : 'L O A D I N G';
            position                : absolute;
            z-index                 : 1000;
            top                     : 50%;
            left                    : 50%;
            transform               : translate(-50%, -50%);
            padding                 : 12px 48px;
            color                   : #fff;
            background              : linear-gradient(to right, #4d4d4d 0, #fff 10%, #4d4d4d 20%);
            background-position     : 0;
            background-clip         : text;
            -webkit-background-clip : text;
            -webkit-text-fill-color : transparent;
            animation               : shine 2s infinite linear;
            animation-fill-mode     : forwards;
            -webkit-text-size-adjust: none;
            font-weight             : 600;
            font-size               : 30px;
            text-decoration         : none;
            white-space             : nowrap;

        }

        @keyframes shine {
            0% {
                background-position: 0;
            }

            60% {
                background-position: 280px;
            }

            100% {
                background-position: 280px;
            }
        }
    }
}

.layout-header {
    padding         : 0 10px 0 20px;
    height          : @header-height;
    background-color: @main-bg;
    color           : @font-color;
    display         : flex;
    justify-content : space-between;
    align-items     : center;
    white-space     : nowrap;
    border-bottom   : 1px solid @border-color;

    .layout-header-left {
        display     : flex;
        align-items : center;
        margin-right: 20px;

        a {
            display: contents;
        }

        .layout-title {
            margin-left: 20px;

            h1 {
                font-size: 18px;
            }

            p {
                font-size  : 14px;
                font-weight: 300;
                line-height: 18px;
                opacity    : .9;
            }
        }
    }
}

.layout-main {
    height          : calc(100vh - @header-height);
    background-color: @main-bg;
    display         : flex;

    // 编辑器面板
    .editor-container {
        display: flex;

        .editor-item {
            display : inline-block;
            flex    : 1;
            height  : 100%;
            overflow: hidden;

            .editor-title {
                padding         : 0 16px;
                cursor          : pointer;
                white-space     : nowrap;
                line-height     : 36px;
                font-weight     : 700;
                font-size       : 1.1rem;
                color           : @font-color;
                background-color: @main-bg ;
            }

            .code-editor {
                height: calc(100% - 36px);
            }
        }
    }

    .resizer-x {
        //cursor          : col-resize;
        background-color: @main-bg;

        &.hide {
            display: none;
        }
    }

    .resizer-y {
        position        : relative;
        background-color: @main-bg;
    }

    /* 上下布局 */
    &.layout-top,
    &.layout-bottom {
        flex-direction: column;

        .resizer-x {
            width       : 18px;
            border-left : 1px solid @border-color;
            border-right: 1px solid @border-color;
        }

        .resizer-y {
            height       : 20px;
            cursor       : row-resize;
            border-top   : 1px solid @border-color;
            border-bottom: 1px solid @border-color;
        }

        .editor-container {
            height : @edit-height;
            padding: 0 10px;

            .editor-item.folding {
                flex       : none;
                width      : 36px;
                border-left: 1px solid @border-color;

                .editor-title {
                    padding         : 16px 0;
                    width           : 36px;
                    height          : 100%;
                    line-height     : 36px;
                    writing-mode    : tb;
                    background-color: #1b1b1b;
                }
            }
        }
    }

    &.layout-bottom {
        flex-direction: column-reverse;
    }

    /* 左右布局 */
    &.layout-left,
    &.layout-right {
        flex-direction: row;

        .resizer-y {
            height      : 100%;
            width       : 18px;
            cursor      : col-resize;
            border-left : 1px solid @border-color;
            border-right: 1px solid @border-color;
        }

        .resizer-x {
            display: none !important;
        }

        .editor-container {
            width         : 500px;
            height        : 100%;
            flex-direction: column;
            overflow      : hidden;

            .editor-item.folding {
                flex         : none;
                height       : 36px;
                border-bottom: 1px solid @border-color;

                .editor-title {
                    background-color: #1b1b1b;
                }
            }
        }
    }

    &.layout-right {
        flex-direction: row-reverse;
    }

    // 输出面板
    .output-container {
        position      : relative;
        flex          : 1;
        min-height    : 0;
        min-width     : 0;
        display       : flex;
        flex-direction: column;
        overflow      : hidden;

        // 预览面板
        .result-iframe {
            flex            : 1;
            z-index         : 1;
            min-height      : 0;
            background-color: #fff;
            block-size      : auto;
        }

        // 日志面板
        .output-log {
            background-color: @iframe-bg;
            max-height      : 100%;
            height          : 100px;

            &.hide {
                display: none;
            }

            .output-log-title {
                cursor          : row-resize;
                font-size       : 14px;
                height          : 36px;
                background-color: @main-bg;
                color           : @font-color;
                border-top      : 1px solid @border-color;
                border-bottom   : 1px solid @border-color;
                display         : flex;
                justify-content : space-between;

                .output-log-title-left {
                    padding         : 0 10px;
                    line-height     : 36px;
                    display         : inline-block;
                    background-color: @iframe-bg;
                }

                .output-log-title-right {
                    padding: 3px 10px;
                }
            }

            .output-log-body {
                overflow-y: auto;
                height    : 100%;

                &::-webkit-scrollbar {
                    width : 10px;
                    height: 10px;
                }

                &::-webkit-scrollbar-thumb {
                    background: #494b5a;
                }

                &::-webkit-scrollbar-track {
                    background: 0 0;
                }
            }
        }
    }

    .disable-mouse-events {
        pointer-events: none
    }
}

// 按钮
.button {
    cursor         : pointer;
    display        : inline-flex;
    align-items    : center;
    justify-content: center;
    vertical-align : middle;
    text-shadow    : none;
    line-height    : 1.2em;
    white-space    : nowrap;
    text-overflow  : ellipsis;
    text-decoration: none;
    font-weight    : 400;
    padding        : 10px 16px;
    border         : 1px solid transparent;
    border-radius  : 5px;
    color          : @font-color;
    background     : linear-gradient(225deg, #181818, #2e2e2e);
    box-shadow     : -5px 5px 10px #191919, 5px -5px 10px #292929;

    &:active {
        transform: translateY(1px);
    }

    &:hover {
        background    : linear-gradient(225deg, #252525, #414141);
        color         : #dbdbdb;
        outline-offset: 3px;
    }

    >svg {
        width         : 16px;
        height        : 16px;
        display       : inline-block;
        pointer-events: none;
        vertical-align: bottom;
        fill          : @font-color;
    }

    &.small {
        line-height: 1em;
        padding    : 6px 10px;

        >svg {
            width : 12px;
            height: 12px;
        }
    }


    &[data-has-icon] {
        >svg:first-child {
            margin-right: .35em;
        }
    }
}

.layout-button {
    svg {
        transform : rotate(360deg);
        transition: transform .3s;
    }

    &[data-type="left"] {
        svg {
            transform: rotate(270deg);
        }
    }


    &[data-type="bottom"] {
        svg {
            transform: rotate(180deg);
        }
    }

    &[data-type="right"] {
        svg {
            transform: rotate(90deg);
        }
    }
}

// 日志样式
.console-log {
    white-space  : pre;
    font-size    : 13px;
    padding      : 10px;
    color        : #fff;
    border-bottom: 1px solid #555;

    &.console-log-error {
        background: #f003;
    }

    &.console-log-warn {
        background: #ff03;
    }
}